language: node_js
install:
  - npm install -g codecov
  - npm install
node_js:
  - "12"
script:
  - npm run lint
  - npm run build
  - npm run test
deploy:
  provider: npm
  skip_cleanup: true
  email: contact@yannick-lohse.fr
  api_key:
    secure: iXYMy5ywROmP7XwHNoZiboFKXIX2RDPpCSuBlrrzsYt4i8XsGhlasyywDaY87lDRVYOh7miFZgHIQ2Bc0KYrQK24yrATs0+2sTekHIFW2YFopkW7O9d8k9fkJYPKsU+yKwHsoAxeZvhWRk5IpgV+IPpb7wi84+K6f8OfG3iGhFFZTTWFyQkMZGaaEMaBTrWuJ9CxO4KmtO9p6XNttaixUVrfNgfX86OZUPUz5H6i9/ff9ClYcAfVhYdINcl/Sw8b6Dhe+7q7cswjvLscdfecdbVFEmFNCXeeNYovz4W7CxOw3ilRhj2HqI+9DK5rx9UWaN8QlbHMrBi7G6NEeCeIDaJQDoKWHvPfB6EHPJIIcikaIxUMogMlcsGFlOiBGoUc9ULhdHq+IxfFnR4P25L+3SWQlL6jTEa/HVyCtro6fZDlDRyKGQR2Mgt4SfLHYQs48LYl9xDvyhr/P5n0g++sVOsagpCtlCvmmb7kch6tX39ExnGBERAZ6l2vrYMPdUlDwdqU9Ad9cg0qKqe3QEeXQjwvsL0t5f4PEFpiQRrzGbqG+gA6AYSIaHf6eSUNk5Y7cZLvK457NRWIrhCu8Qkt+HsbRNIB5QhXCHV2UT28V/NQt9bmZAbDkaqNA0gDVQe7kbLYWK05uNinJrCNpy9AignadlXjcdMUgFCx51euaL8=
  on:
    tags: true
    repo: y-lohse/inkjs
notifications:
  email:
    on_failure: change
after_success:
  - codecov
